(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5245fac6"],{4580:function(e,t,a){"use strict";var s=a("dfaa"),r=a.n(s);r.a},"4d2d":function(e,t,a){"use strict";var s=a("7c17"),r=a.n(s);r.a},"7c17":function(e,t,a){},8551:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"img-upload"},[a("Upload",{ref:"upload",attrs:{action:"/",format:["jpg","jpeg","png"],accept:"image/*","before-upload":e.handleUpload,"show-upload-list":!1}},[a("div",{staticClass:"img-upload__inner"},[e.imgSrc?a("img",{attrs:{src:e.imgSrc,alt:""}}):a("div",{staticClass:"desc",class:{"pc-desc":e.isPc}},[a("div",{class:{"pc-plus":e.isPc,"mobile-plus":!e.isPc}},[a("van-icon",{attrs:{name:"plus"}})],1),a("div",[e._v("Upload task picture")])])])])],1)},r=[],i=a("d4ec"),n=a("bee2"),o=a("262e"),c=a("2caf"),l=a("9ab4"),d=a("60a3"),u=function(e){Object(o["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=t.apply(this,arguments),e.imgSrc="",e}return Object(n["a"])(a,[{key:"handleUpload",value:function(e){var t=this;this.imgFile=e,this.$emit("upload-success",e);var a=new FileReader;a.onload=function(e){t.imgSrc=e.target.result},a.readAsDataURL(e)}}]),a}(d["e"]);Object(l["a"])([Object(d["d"])("value")],u.prototype,"imgFile",void 0),Object(l["a"])([Object(d["c"])({default:!1})],u.prototype,"isPc",void 0),u=Object(l["a"])([Object(d["a"])({})],u);var p=u,m=p,f=(a("4580"),a("2877")),h=Object(f["a"])(m,s,r,!1,null,null,null);t["a"]=h.exports},a938:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("PCMain",[a("div",{staticClass:"pc-complete"},[a("div",{staticClass:"pc-complete__titles"},[a("pc-title",{attrs:{title:e.title}}),a("pc-sub-title",{attrs:{txt:e.subTitle}})],1),a("pc-special-container",{staticClass:"pc-complete__inner"},[a("div",{staticClass:"inner-title"},[a("h3",[e._v("MISSION COMPLETE")])]),a("div",{staticClass:"inner-img"},[a("img",{attrs:{src:e.awardSrc,alt:"",srcset:""}}),a("span",[e._v(e._s(e.awardName))])]),a("div",{staticClass:"inner-tip"},[e._v(" Please fill in the content ")]),a("div",{staticClass:"inner-form"},[a("Form",{ref:"formComplete",attrs:{model:e.postdata,rules:e.postdataRules}},[a("FormItem",{attrs:{prop:"email"}},[a("Input",{attrs:{type:"text",disabled:"",placeholder:"E-mail"},model:{value:e.postdata.email,callback:function(t){e.$set(e.postdata,"email",t)},expression:"postdata.email"}})],1),a("FormItem",{attrs:{prop:"name"}},[a("Input",{attrs:{type:"text",disabled:"",placeholder:"Name"},model:{value:e.postdata.name,callback:function(t){e.$set(e.postdata,"name",t)},expression:"postdata.name"}})],1),a("FormItem",{attrs:{prop:"phone"}},[a("Input",{attrs:{type:"text",placeholder:"Phone"},model:{value:e.postdata.phone,callback:function(t){e.$set(e.postdata,"phone",t)},expression:"postdata.phone"}})],1),a("FormItem",{attrs:{prop:"orderId"}},[a("Input",{attrs:{type:"text",disabled:"",placeholder:"Amazon OrderId"},model:{value:e.postdata.orderId,callback:function(t){e.$set(e.postdata,"orderId",t)},expression:"postdata.orderId"}})],1),a("FormItem",{attrs:{prop:"address"}},[a("Input",{attrs:{type:"text",placeholder:"Address"},model:{value:e.postdata.address,callback:function(t){e.$set(e.postdata,"address",t)},expression:"postdata.address"}})],1),a("FormItem",{attrs:{prop:"taskImg"}},[a("ImgUpload",{staticStyle:{"background-color":"#f6fbfc",cursor:"pointer",border:"dashed 1px #96c2ca","border-radius":"10px"},attrs:{value:e.postdata.taskImg,isPc:!0},on:{"update:value":function(t){return e.$set(e.postdata,"taskImg",t)},"upload-success":e.onUploadSuccess}})],1)],1)],1),a("div",{staticClass:"inner-btn"},[a("pc-button",{staticStyle:{"margin-right":"20px"},attrs:{width:"350"},on:{click:e.handleReset}},[e._v("RESELECT TASK")]),a("pc-button",{staticStyle:{"margin-right":"20px"},attrs:{width:"350"},on:{click:e.handleSubmit}},[e._v("SUBMIT")])],1)])],1)])},r=[],i=a("d4ec"),n=a("bee2"),o=a("262e"),c=a("2caf"),l=a("9ab4"),d=a("60a3"),u=a("8551"),p=a("79f6"),m=a("d399"),f=function(e){Object(o["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(i["a"])(this,a),e=t.apply(this,arguments),e.title="Lucky draw",e.subTitle=["Welcome to the lucky draw. Good luck!"],e.file=null,e.postdata={orderId:e.userInfo.userOrderId,name:e.userInfo.userName,email:e.userInfo.userEmail,phone:e.userInfo.userPhone,address:"",taskImg:""},e.postdataRules={orderId:[{required:!0,message:"Please enter OrderId"}],name:[{required:!0,message:"Please enter name"}],taskImg:[{required:!0,message:"Please upload task picture"}],email:[{required:!0,message:"Please enter email"},{pattern:/^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,message:"Please enter valid email"}],phone:[{pattern:/\d/,message:"Please enter valid phone number"},{required:!0,message:"Please enter phone"}]},e}return Object(n["a"])(a,[{key:"onUploadSuccess",value:function(e){this.file=e,this.postdata.taskImg=e,this.$refs.formComplete.validate()}},{key:"handleSubmit",value:function(){var e=this;this.$refs.formComplete.validate((function(t){t&&e.warrantySubmit()}))}},{key:"warrantySubmit",value:function(){var e=this,t=new FormData;t.append("address",this.postdata.address||"0"),t.append("mission_file",this.file),p["a"].warrantySubmit(t).then((function(t){0===t.code&&(m["a"].success(t.message),setTimeout((function(){e.$router.push("/pc/succeed")}),500))}))}},{key:"handleReset",value:function(){this.$router.push("/pc/draw?mission=".concat(this.$route.query.mission))}},{key:"awardSrc",get:function(){return this.$route.query.awardSrc}},{key:"awardName",get:function(){return this.$route.query.awardName}},{key:"userInfo",get:function(){return this.$store.state.userInfo}}]),a}(d["e"]);f=Object(l["a"])([Object(d["a"])({components:{ImgUpload:u["a"]}})],f);var h=f,v=h,b=(a("4d2d"),a("2877")),g=Object(b["a"])(v,s,r,!1,null,null,null);t["default"]=g.exports},dfaa:function(e,t,a){}}]);
//# sourceMappingURL=chunk-5245fac6.72c9a690.js.map